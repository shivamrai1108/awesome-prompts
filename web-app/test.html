<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Prompt Library</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2rem; }
        .test-result { padding: 1rem; margin: 1rem 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
</head>
<body>
    <h1>🧪 Prompt Library Test Page</h1>
    <div id="test-results"></div>
    
    <script>
        const results = document.getElementById('test-results');
        
        function addResult(message, isSuccess) {
            const div = document.createElement('div');
            div.className = `test-result ${isSuccess ? 'success' : 'error'}`;
            div.innerHTML = message;
            results.appendChild(div);
        }
        
        // Test basic functionality
        addResult('✅ HTML page loaded successfully', true);
        addResult('✅ JavaScript is working', true);
        
        // Test localStorage
        try {
            localStorage.setItem('test', 'value');
            localStorage.removeItem('test');
            addResult('✅ LocalStorage is working', true);
        } catch(e) {
            addResult(`❌ LocalStorage error: ${e.message}`, false);
        }
        
        // Test if the main files exist
        const filesToTest = [
            'src/styles/main.css',
            'src/data/categories.json',
            'src/data/sample-prompts.json',
            'src/utils/voting.js',
            'src/utils/contributions.js',
            'src/app.js'
        ];
        
        filesToTest.forEach(file => {
            fetch(file)
                .then(response => {
                    if (response.ok) {
                        addResult(`✅ ${file} loaded successfully`, true);
                    } else {
                        addResult(`❌ ${file} failed to load (${response.status})`, false);
                    }
                })
                .catch(error => {
                    addResult(`❌ ${file} error: ${error.message}`, false);
                });
        });
        
        // Try to load Fuse.js from CDN
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js';
        script.onload = () => addResult('✅ Fuse.js CDN loaded successfully', true);
        script.onerror = () => addResult('❌ Fuse.js CDN failed to load', false);
        document.head.appendChild(script);
    </script>
    
    <hr>
    <p><a href="src/index.html">← Back to Main App</a></p>
</body>
</html>